<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#000000" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <title>Gigi Solana Connect</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #000;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
    }
    .content {
      position: relative;
      z-index: 1;
      padding: 2rem;
      text-align: center;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
    }
    input {
      padding: 0.8rem;
      width: 80%;
      margin: 0.5rem auto;
      display: block;
      border-radius: 8px;
      border: 1px solid #00ffff44;
      background: #111;
      color: #fff;
      font-size: 1rem;
    }
    button {
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      background: #fff;
      color: #000;
      font-weight: bold;
      border-radius: 20px;
      border: none;
      margin-top: 1rem;
      cursor: pointer;
    }
    .powered {
      margin-top: 1rem;
      font-size: 0.9rem;
      color: #aaa;
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>
  <div class="content">
    <h1>Connect Your Solana Wallet</h1>
    <button id="connect">ðŸ”® Connect Wallet</button>
    <input type="text" id="toAddress" placeholder="Recipient Address" />
    <input type="number" id="amount" placeholder="Amount (SOL)" />
    <button onclick="sendTransaction()">âœ¨ Sign & Send</button>
    <p class="powered">Powered by Gigi Labs âš¡</p>
  </div>
  <script src="https://unpkg.com/@solana/wallet-adapter-wallets"></script>
  <script src="https://unpkg.com/@solana/web3.js"></script>
  <script>
    const canvas = document.getElementById("bg");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const dots = Array.from({ length: 100 }, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      vx: (Math.random() - 0.5) * 2,
      vy: (Math.random() - 0.5) * 2
    }));
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      dots.forEach(dot => {
        dot.x += dot.vx;
        dot.y += dot.vy;
        if (dot.x < 0 || dot.x > canvas.width) dot.vx *= -1;
        if (dot.y < 0 || dot.y > canvas.height) dot.vy *= -1;
        ctx.beginPath();
        ctx.arc(dot.x, dot.y, 2, 0, Math.PI * 2);
        ctx.fillStyle = "cyan";
        ctx.fill();
      });
      requestAnimationFrame(animate);
    }
    animate();

    const connectButton = document.getElementById("connect");
    connectButton.onclick = async () => {
      if (!window.solana) return alert("Install Phantom Wallet");
      try {
        const resp = await window.solana.connect();
        connectButton.innerText = "ðŸ”® " + resp.publicKey.toString().slice(0, 4) + ".." + resp.publicKey.toString().slice(-4);
      } catch (err) {
        console.error(err);
      }
    };

    async function sendTransaction() {
      if (!window.solana || !window.solana.publicKey) return alert("Connect your wallet first!");
      const to = document.getElementById("toAddress").value;
      const amount = parseFloat(document.getElementById("amount").value);
      if (!to || !amount) return alert("Please enter recipient and amount");
      const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl('mainnet-beta'), 'confirmed');
      const transaction = new solanaWeb3.Transaction().add(
        solanaWeb3.SystemProgram.transfer({
          fromPubkey: window.solana.publicKey,
          toPubkey: new solanaWeb3.PublicKey(to),
          lamports: amount * 1e9
        })
      );
      const { signature } = await window.solana.signAndSendTransaction(transaction);
      await connection.confirmTransaction(signature);
      alert("âœ… Transaction sent! Signature: " + signature);
    }
  </script>
</body>
</html>
